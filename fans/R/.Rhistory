setwd("~/app/weibo-apps/fans/R")
dir()
source("fans.Hist.R")
source("fansHist.R")
depth_dist <- ggplot(diamonds, aes(depth)) + xlim(58, 68)
depth_dist + geom_histogram(aes(fill = cut), binwidth = 0.1,position = "fill")
rm(list=ls())
source("fansIncrease.R")
source("fansIncrease.R")
source("fansIncrease.R")
status
p3<-ggplot(status, aes(x=date,y=count))
summary(p3)
p3+geom_point()
p3+geom_point()+geom_path()
p3+geom_point(colour="red")+geom_path()
p3+geom_point(colour="red",alpha=0.5)+geom_path()
p3+geom_point(colour="red",alpha=0.5,size=3)+geom_path()
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path()
status<-query[which(query['type']=='status'),c(1,2)]
status<-rbind(c(20120601,0),status)
plot(status,type="b",lwd=1,xlab="记录日期",ylab="发微博数量",col="blue",xlim=c(20120601,10+max(status[["date"]])),ylim=c(0,1.5*max(status[["count"]])),main="发微博数增长")
text(status[["date"]], txt_height(status[["count"]]), label(status[["count"]]),  col = "red")
status<-query[which(query['type']=='status'),c(1,2)]
status<-rbind(c(20120601,0),status)
plot(status,type="b",lwd=1,xlab="记录日期",ylab="发微博数量",col="blue",xlim=c(20120601,10+max(status[["date"]])),ylim=c(0,1.5*max(status[["count"]])),main="发微博数增长")
text(status[["date"]], txt_height(status[["count"]]), label(status[["count"]]),  col = "red")
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path(colour="blue")
query
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path(colour="blue")
p3<-ggplot(query, aes(x=date,y=count))
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path(colour="blue")
query
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path(colour="blue",fill="type")
p3<-ggplot(query, aes(x=date,y=count,fill="type"))
summary(p3)
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path(colour="blue")
p3<-ggplot(query, aes(x=date,y=count,fill=type))
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path(colour="blue")
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path(aes(fill=type))
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path(aes(fill=type))
p3<-ggplot(query, aes(x=date,y=count))
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path(aes(fill=type))
p3<-ggplot(query, aes(x=date,y=count,fill=type))
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path()
p3<-ggplot(query, aes(x=date,y=count,fill=type,colour=type))
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path()
status
query
query<-rbind(c(20120601,0,'fans'))
query<-rbind(c(20120601,0,'friends'))
query<-rbind(c(20120601,0,'status'))
p3<-ggplot(query, aes(x=date,y=count,fill=type,colour=type))
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path()
query
sql<-paste("SELECT date,count,type FROM t_user_increase t ",
"where t.uid=", uid , "order by date asc")
source("util/db.R")
query
query<-rbind(c(20120601,0,fans))
query
sql<-paste("SELECT date,count,type FROM t_user_increase t ",
"where t.uid=", uid , "order by date asc")
source("util/db.R")
query
?rbind
rbind(20120601,0)
rbind(c(20120601,0))
rbind(c(20120601,0),'fans')
rbind(c(20120601,0,'fans'))
rbind(c(20120601,0,'fans'),query)
rbind(c(20120601,0,'fans'),c(20120601,0,'friends'),query)
rbind(c(20120601,0,'fans'),c(20120601,0,'friends'),c(20120601,0,'statuss'),query)
query<-rbind(c(20120601,0,'fans'),c(20120601,0,'friends'),c(20120601,0,'statuss'),query)
p3<-ggplot(query, aes(x=date,y=count,fill=type,colour=type))
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path()
query<-rbind(c(20120601,0,'fans'),c(20120601,0,'friends'),c(20120601,0,'status'),query)
p3<-ggplot(query, aes(x=date,y=count,fill=type,colour=type))
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path()
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path()
uid<-1999250817
#path<-paste("image/increase/",uid,".png",sep="")
## path1<-paste("image/increase/fans-",uid,".png",sep="")
## path2<-paste("image/increase/friends-",uid,".png",sep="")
## path3<-paste("image/increase/status-",uid,".png",sep="")
sql<-paste("SELECT date,count,type FROM t_user_increase t ",
"where t.uid=", uid , "order by date asc")
source("util/db.R")
query<-rbind(c(20120601,0,'fans'),c(20120601,0,'friends'),c(20120601,0,'status'),query)
p3<-ggplot(query, aes(x=date,y=count,fill=type,colour=type))
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path()
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path(aes(fill=type))
p3<-ggplot(query, aes(x=date,y=count,colour=type))
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path(aes(fill=type))
query
p3+geom_point(colour="red",alpha=0.5,size=2)+geom_path()
p3+geom_point(colour=type,alpha=0.5,size=2)+geom_path()
p3+geom_point(alpha=0.5,size=2)+geom_path()
p3+geom_point(alpha=0.5,size=3)
p3+geom_point(alpha=0.5,size=2)
p3+geom_point(alpha=0.8,size=2)
p3<-ggplot(query, aes(x=date,y=count))
p3+geom_point(alpha=0.8,size=2)+geom_path()
p3<-ggplot(query, aes(x=date,y=count,colour=type))
p3+geom_point(alpha=0.8,size=2)+geom_path()
p3+geom_point(alpha=0.8,size=2)+geom_line()
p3+geom_point(alpha=0.8,size=2)+geom_line(aes(fill=type))
p3+geom_point(alpha=0.8,size=2)+geom_line(aes(colour=type))
p3+geom_point(alpha=0.8,size=2)+geom_line()+opts(title="我的微博增长")
p3<-ggplot(query, aes(x=date,y=count,colour=type,group=type)))
p3+geom_point(alpha=0.8,size=2)+geom_line(aes(group=type))+opts(title="我的微博增长")
p3<-ggplot(query, aes(x=date,y=count,colour=type)))
p3+geom_point(alpha=0.8,size=2)+geom_line(aes(group=type))+opts(title="我的微博增长")
p3<-ggplot(query, aes(x=date,y=count,colour=type))
p3+geom_point(alpha=0.8,size=2)+geom_line(aes(group=type))+opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+geom_text('1')+geom_line(aes(group=type))+opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+geom_text(label='1')+geom_line(aes(group=type))+opts(title="我的微博增长")
query
p3+geom_point(alpha=0.8,size=2)+geom_text(label=count)+geom_line(aes(group=type))+opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+geom_text(label=y)+geom_line(aes(group=type))+opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+geom_text()
p3+geom_point(alpha=0.8,size=2)+geom_text(label=query$count)
p3+geom_point(alpha=0.8,size=2)+geom_text(label='1')
p3+geom_point(alpha=0.8,size=2)+geom_text(label=count)
summary(p3)
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count))
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count))+geom_line(aes(group=type))+opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count,size=0.8))+geom_line(aes(group=type))+opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count),size=0.8)+geom_line(aes(group=type))+opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count),size=2)
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count),size=2,data=query)
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count),data=query)
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count),size=2,data=query)
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count),size=20,data=query)
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count),size=8,data=query)
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count),size=6,data=query)
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count),size=4,data=query)+geom_line(aes(group=type))+opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count,colour=c("red")),size=4,data=query)+geom_line(aes(group=type))+opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+geom_text(aes(label=count),colour="red",size=4,data=query)+geom_line(aes(group=type))+opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)
+geom_line(aes(group=type))
+geom_text(aes(label=count),colour="red",size=4,data=query)
+opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour=c("red","blue","green"),size=4,data=query)+
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="blue"),size=4,data=query)+
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="blue"),size=4,data=query)+
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count)),colour="blue",size=4,data=query)+
opts(title="我的微博增长")
query
p3<-ggplot(query, aes(x=date,y=count,colour=type))
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count)),colour="blue",size=4,data=query)+
opts(title="我的微博增长")
p3<-ggplot(query, aes(x=date,y=count,colour=type))
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="blue",size=4,data=query)+
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
opts(title="我的微博增长",xlab="记录日期",ylab="数量")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_discrete(name="增长类型")+
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_discrete(name="增长类型")+
scale_colour_manual(labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_discrete(name="增长类型")+
scale_colour_manual(values=c(fans,friends,status),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_discrete(name="增长类型")+
scale_colour_manual("",values=c(fans,friends,status),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
summary(p3)
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_discrete(name="增长类型")+
scale_colour_manual("",values=type,labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_discrete(name="增长类型")+
scale_colour_manual(values=type,labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_discrete(name="增长类型")+
scale_colour_manual("",values=c('fans','friends','status'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_discrete(name="增长类型")+
scale_colour_manual("",values=c('fans'='red','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_discrete(name="增长类型")+
scale_colour_manual("",values=rainbow(5),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_discrete(name="增长类型")+
scale_colour_manual("增长类型",values=c('fans'='red','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("增长类型",values=c('fans'='red','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='red','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2,colour=type)+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='red','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='red','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=5,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='red','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(y=txt_height(count),label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(y=count,label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
txt_height <- function(counts){
h<-max(counts)/7
height<-counts
i<-c(1:length(counts))%%2
height<-(counts-h)+(h*2*i)
height
}
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(y=txt_height(count),label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
txt_height <- function(counts){
h<-round(max(counts)/7)
height<-counts
i<-c(1:length(counts))%%2
height<-(counts-h)+(h*2*i)
height
}
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(y=txt_height(count),label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(y=txt_height(300),label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
query
query$count
geom_text(aes(y=txt_height(count),label=count),colour="red",size=4,data=query)
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(y=txt_height(count),label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(y=count-30,aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
ggsave("plot.png", width=4, height=4, dpi=100)
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
ggsave("plot.png", width=10, height=12, dpi=100)
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",size=8,values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=4,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长")
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title = theme_text(colour="blue", size=16, face="bold"))
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title=theme_text(size=16, face="bold"),legend.label=theme_text(size=16, face="bold"))
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title=theme_text(size=16, face="bold"),legend.text=theme_text(size=16, face="bold"))
ggsave("plot.png", width=10, height=12, dpi=100)
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title=theme_text(size=20, face="bold"),legend.text=theme_text(size=16))
ggsave("plot.png", width=10, height=12, dpi=100)
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title=theme_text(size=20, face="bold"),legend.text=theme_text(size=16))+
opts(axis.title.x = theme_text(face="bold", colour="#990000", size=20))
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title=theme_text(size=20, face="bold"),legend.text=theme_text(size=16))+
opts(axis.title.x=theme_text(size=16),axis.title.y=theme_text(size=16))
ggsave("plot.png", width=10, height=12, dpi=100)
p3+geom_point(alpha=0.8,size=2,colour='red')+
geom_line(aes(group=type))+
geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title=theme_text(size=20, face="bold"),legend.text=theme_text(size=16))+
opts(axis.title.x=theme_text(size=16),axis.title.y=theme_text(size=16))+
opts(plot.title = theme_text(size=20, lineheight=30, face="bold"))
ggsave("plot.png", width=10, height=12, dpi=100)
p3+geom_point(alpha=0.8,size=4,colour='red')+
geom_line(aes(group=type))+
#geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title=theme_text(size=20, face="bold"),legend.text=theme_text(size=16))+
opts(axis.title.x=theme_text(size=16),axis.title.y=theme_text(size=16))+
opts(plot.title = theme_text(size=20, lineheight=30, face="bold"))
ggsave("plot.png", width=10, height=12, dpi=100)
p3+geom_point(alpha=0.8,size=4,colour='red')+
geom_line(aes(group=type))+
geom_smooth()+
#geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title=theme_text(size=20, face="bold"),legend.text=theme_text(size=16))+
opts(axis.title.x=theme_text(size=16),axis.title.y=theme_text(size=16))+
opts(plot.title = theme_text(size=20, lineheight=30, face="bold"))
ggsave("plot.png", width=6, height=8, dpi=100)
p3+geom_point(alpha=0.8,size=4,colour='red')+
geom_line(aes(group=type))+
#geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title=theme_text(size=20, face="bold"),legend.text=theme_text(size=16))+
opts(axis.title.x=theme_text(size=16),axis.title.y=theme_text(size=16))+
opts(plot.title = theme_text(size=20, lineheight=30, face="bold"))
ggsave("plot.png", width=6, height=8, dpi=100)
ggsave("plot.png", width=8, height=10, dpi=100)
?ggsave
p3+geom_point(alpha=0.8,size=4,colour='red')+
geom_line(aes(group=type))+
#geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title=theme_text(size=20, face="bold"),legend.text=theme_text(size=16))+
opts(axis.title.x=theme_text(size=16),axis.title.y=theme_text(size=16))+
opts(plot.title = theme_text(size=20, lineheight=30, face="bold"))+
opts(panel.margin = unit(2, "lines"))
ggsave("plot.png", width=8, height=10, dpi=100)
?unit
p3+geom_point(alpha=0.8,size=4,colour='red')+
geom_line(aes(group=type))+
#geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title=theme_text(size=20, face="bold"),legend.text=theme_text(size=16))+
opts(axis.title.x=theme_text(size=16),axis.title.y=theme_text(size=16))+
opts(plot.title = theme_text(size=20, lineheight=30, face="bold"))+
geom_tile()
ggsave("plot.png", width=8, height=10, dpi=100)
p3+geom_point(alpha=0.8,size=4,colour='red')+
geom_line(aes(group=type))+
#geom_text(aes(label=count),colour="red",size=4,data=query)+
ylab("数量") + xlab("记录日期")+
scale_colour_manual("统计变量",values=c('fans'='orange','friends'='green','status'='blue'),labels=c('粉丝数','关注数','微博数')) +
opts(title="我的微博增长",legend.title=theme_text(size=20, face="bold"),legend.text=theme_text(size=16))+
opts(axis.title.x=theme_text(size=16),axis.title.y=theme_text(size=16))+
opts(plot.title = theme_text(size=20, lineheight=30, face="bold"))
ggsave("plot.png", width=8, height=10, dpi=70)
